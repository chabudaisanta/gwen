# Point (2次元ベクトル)

2 次元の点（ベクトル）を表すテンプレート `point<T>` です。座標 `(x, y)` と各種演算・比較・幾何用の静的メソッドを提供します。

---

## コンストラクタ

```
(1) point<T> p;
(2) point<T> p(T x, T y);
```

- **(1)** $(0, 0)$ で構築します。
- **(2)** $(x, y)$ で構築します。

---

## メンバ変数

- `T x`, `T y`: 座標。

---

## 演算

| 式 | 説明 |
|----|------|
| `p + q`, `p - q` | 加算・減算 |
| `p * k`, `k * p`, `p / k` | スカラー倍・除算（`k != 0`） |
| `p += q`, `p -= q`, `p *= k`, `p /= k` | 複合代入 |
| `p == q`, `p != q` | 等号・不等号 |

---

## ノルム・距離

| メソッド | 説明 |
|----------|------|
| `p.norm()` | ユークリッドノルム $\sqrt{x^2 + y^2}$ |
| `p.norm_sq()` | $x^2 + y^2$ |
| `p.manhattan()` | $\|x\| + \|y\|$ |

---

## 内積・外積

| メソッド | 説明 |
|----------|------|
| `p.dot(q)` | 内積 $p \cdot q$ |
| `point::dot_product(a, b)` | 内積（静的） |
| `p.cross(q)` | 外積 $p \times q$（$a.x \cdot b.y - a.y \cdot b.x$） |
| `point::cross_product(a, b)` | 外積（静的） |

---

## 象限・比較

| メソッド | 説明 |
|----------|------|
| `p.quadrant()` | 象限（0〜3）。$y \geq 0$ なら 0 または 1、$y < 0$ なら 2 または 3。 |
| `point::less_xy(a, b)` | $x$ の昇順、同値なら $y$ の昇順。 |
| `point::less_yx(a, b)` | $y$ の昇順、同値なら $x$ の昇順。 |
| `point::less_ang(a, b)` | 偏角の昇順（原点 < 偏角小 < 絶対値小）。原点は最小。 |

---

## ccw（進行方向の判定）

```
i32 point::ccw(a, b, c);
```

有向線分 $\overrightarrow{ab}$ に対する点 $c$ の位置を返します。

| 戻り値 | 意味 |
|--------|------|
| `1` | 反時計回り（左） |
| `-1` | 時計回り（右） |
| `0` | 線分上（a-c-b の順） |
| `2` | 線上で後方（c-a-b） |
| `-2` | 線上で前方（a-b-c） |

---

## calc_angle

```
auto point::calc_angle(a, b, c);
```

3 点 $a, b, c$ について、角 $\angle abc$ の大きさ（ラジアン）を返します。戻り値は $0$ 以上 $\pi$ 以下です。$b$ から $a$ へのベクトルと $b$ から $c$ へのベクトルが零でないことを仮定します。

---

## 入出力

- `cin >> p`: `p.x`, `p.y` を読み込みます。
- `cout << p`: `p.x` と `p.y` を空白区切りで出力します。
- `p.dump()`: デバッグ用文字列 `"(x, y)"` を返します。

---

## 使用例

```cpp
#include "gwen/geo/point.hpp"

using namespace gwen;

point<i64> a(1, 0), b(0, 1);
a + b;                    // (1, 1)
a.cross(b);               // 1
point<i64>::ccw(a, b, point<i64>(1, 1));  // 1 (反時計回り)
```
